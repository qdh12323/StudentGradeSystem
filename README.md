# å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + FastAPI + SQL Server çš„å®Œæ•´å­¦ç”Ÿç»¼åˆæµ‹è¯„ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæˆç»©å½•å…¥ã€ç»¼åˆæµ‹è¯„ã€æ’åè®¡ç®—å’Œæ•°æ®å¯¼å‡ºåŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **ç”¨æˆ·ç®¡ç†**: æ”¯æŒå­¦ç”Ÿã€æ•™å¸ˆã€ç®¡ç†å‘˜ä¸‰ç§è§’è‰²
- **ç»¼åˆæµ‹è¯„**: å®Œæ•´çš„ç»¼æµ‹è¯„åˆ†ä½“ç³»ï¼ˆä½“æµ‹ã€å“å¾·ã€å­¦ä¸šã€åˆ›æ–°å®è·µã€ç¤¾ä¼šå®è·µã€æ–‡ä½“å®è·µï¼‰
- **åŠ åˆ†ç®¡ç†**: è¯¦ç»†çš„åŠ åˆ†é¡¹ç›®åˆ†ç±»å’Œç®¡ç†
- **æ’åè®¡ç®—**: è‡ªåŠ¨è®¡ç®—ç­çº§å’Œå¹´çº§æ’å
- **æ•°æ®å¯¼å‡º**: æ”¯æŒExcelæ ¼å¼çš„ç»¼æµ‹æŠ¥è¡¨å¯¼å‡º
- **æˆç»©ç®¡ç†**: ä¼ ç»Ÿçš„è¯¾ç¨‹æˆç»©å½•å…¥å’ŒæŸ¥è¯¢

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18 + TypeScript
- Ant Design UIç»„ä»¶åº“
- React Router è·¯ç”±ç®¡ç†
- Axios HTTPå®¢æˆ·ç«¯
- Vite æ„å»ºå·¥å…·

### åç«¯
- Python FastAPI
- SQL Server æ•°æ®åº“
- pyodbc æ•°æ®åº“è¿æ¥
- pandas æ•°æ®å¤„ç†
- openpyxl Excelå¤„ç†

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„
- **Students**: å­¦ç”ŸåŸºç¡€ä¿¡æ¯
- **ComprehensiveEvaluations**: ç»¼åˆæµ‹è¯„ä¸»è¡¨
- **BonusDetails**: åŠ åˆ†é¡¹ç›®è¯¦æƒ…è¡¨
- **Classes**: ç­çº§ä¿¡æ¯
- **Users**: ç”¨æˆ·è´¦å·ç®¡ç†

### è¯„åˆ†ä½“ç³»
```
æ€»ç§¯åˆ†(P) = å­¦ä¸šæˆç»©(X) + åˆ›æ–°å®è·µ(C) + ç¤¾ä¼šå®è·µ(S) + æ–‡ä½“å®è·µ(W)

å…¶ä¸­ï¼š
- åˆ›æ–°å®è·µ(C) = C1(åŸºæœ¬åˆ†) + C2(åŠ åˆ†)
- ç¤¾ä¼šå®è·µ(S) = S1(å­¦ç”Ÿå·¥ä½œ) + S2(ç¤¾ä¼šæœåŠ¡) + S3(å¥–åŠ±åŠ åˆ†)
```

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
StudentGradeSystem/
â”œâ”€â”€ frontend/           # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/     # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.tsx    # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx   # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ backend/           # FastAPIåç«¯
â”‚   â”œâ”€â”€ main.py       # ä¸»æœåŠ¡æ–‡ä»¶
â”‚   â””â”€â”€ venv/         # Pythonè™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ database/         # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ import_real_students_with_gpa.sql
â””â”€â”€ docs/            # æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 16+
- Python 3.8+
- SQL Server 2019+

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/qdh12323/StudentGradeSystem.git
cd StudentGradeSystem
```

### 2. æ•°æ®åº“è®¾ç½®

1. åœ¨SQL Serverä¸­åˆ›å»ºæ•°æ®åº“ `GradeSystemDB`
2. æ‰§è¡Œ `database/comprehensive_evaluation_schema.sql` åˆ›å»ºè¡¨ç»“æ„
3. æ‰§è¡Œ `database/import_comprehensive_data.sql` å¯¼å…¥æµ‹è¯•æ•°æ®

### 3. åç«¯è®¾ç½®

```bash
cd backend
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate

pip install -r requirements.txt
python main.py
```

åç«¯å°†åœ¨ http://localhost:8000 å¯åŠ¨

### 4. å‰ç«¯è®¾ç½®

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ http://localhost:5173 å¯åŠ¨

### 5. ä¸€é”®å¯åŠ¨ï¼ˆWindowsï¼‰

```bash
# åŒå‡»è¿è¡Œ
start_dev.bat
```

## ğŸ“ ä½¿ç”¨è¯´æ˜

### ç™»å½•è´¦å·

- **ç®¡ç†å‘˜**: ç”¨æˆ·å `admin` å¯†ç  `admin123`
- **æ•™å¸ˆ**: ç”¨æˆ·å `teacher1` å¯†ç  `123456`
- **å­¦ç”Ÿ**: ç”¨æˆ·åä¸ºå­¦å· (å¦‚: `3124001479`) å¯†ç  `123456`

### ä¸»è¦åŠŸèƒ½

1. **ç»¼åˆæµ‹è¯„å½•å…¥**: æ”¯æŒå®Œæ•´çš„ç»¼æµ‹è¯„åˆ†ä½“ç³»å½•å…¥
2. **åŠ åˆ†é¡¹ç›®ç®¡ç†**: åˆ†ç±»ç®¡ç†å„ç§åŠ åˆ†é¡¹ç›®
3. **æ’åè®¡ç®—**: è‡ªåŠ¨è®¡ç®—ç­çº§å’Œå¹´çº§æ’å
4. **æ•°æ®å¯¼å‡º**: å¯¼å‡ºå®Œæ•´çš„ç»¼æµ‹ExcelæŠ¥è¡¨
5. **æˆç»©ç®¡ç†**: ä¼ ç»Ÿçš„è¯¾ç¨‹æˆç»©ç®¡ç†åŠŸèƒ½

## ğŸ¯ ç»¼åˆæµ‹è¯„ä½“ç³»

### è¯„åˆ†é¡¹ç›®
- **T**: ä½“æµ‹æˆç»©
- **D**: å“å¾·è¡¨ç°è¯„ä»·åˆ†
- **X**: å­¦ä¸šæˆç»©è€ƒæ ¸åˆ†
- **C**: åˆ›æ–°å®è·µè¯„åˆ† (C1åŸºæœ¬åˆ† + C2åŠ åˆ†)
- **S**: ç¤¾ä¼šå®è·µè¯„åˆ† (S1å­¦ç”Ÿå·¥ä½œ + S2ç¤¾ä¼šæœåŠ¡ + S3å¥–åŠ±)
- **W**: æ–‡ä½“å®è·µè¯„åˆ†
- **P**: æ€»ç§¯åˆ†

### åŠ åˆ†ç±»åˆ«
- **C1**: åˆ›æ–°å®è·µåŸºæœ¬åˆ†
- **C2**: åˆ›æ–°å®è·µåŠ åˆ†
- **S1**: å­¦ç”Ÿå·¥ä½œåŠ åˆ†
- **S2**: ç¤¾ä¼šæœåŠ¡åŠ åˆ†
- **S3**: ç¤¾ä¼šæœåŠ¡å¥–åŠ±åŠ åˆ†
- **W**: æ–‡ä½“å®è·µè¯„åˆ†

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“è¿æ¥

ä¿®æ”¹ `backend/main.py` ä¸­çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²:

```python
conn_str = (
    "DRIVER={ODBC Driver 17 for SQL Server};"
    "SERVER=localhost;"  # ä¿®æ”¹ä¸ºä½ çš„SQL Serveråœ°å€
    "DATABASE=GradeSystemDB;"
    "Trusted_Connection=yes;"
)
```

### APIæ¥å£

- `GET /` - å¥åº·æ£€æŸ¥
- `POST /api/login` - ç”¨æˆ·ç™»å½•
- `POST /api/evaluation/add` - å½•å…¥ç»¼æµ‹æ•°æ®
- `POST /api/bonus/add` - æ·»åŠ åŠ åˆ†é¡¹ç›®
- `POST /api/ranking/calculate` - è®¡ç®—æ’å
- `GET /api/ranking/list` - è·å–æ’ååˆ—è¡¨
- `GET /api/student/{id}` - è·å–å­¦ç”Ÿè¯¦æƒ…
- `GET /api/export/comprehensive` - å¯¼å‡ºç»¼æµ‹Excel

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

- **é‚“æµ©å¼º** - *é¡¹ç›®è´Ÿè´£äºº* - [qdh12323](https://github.com/qdh12323)
- **åŒå­¦** - *å‰ç«¯å¼€å‘* - å¾…æ·»åŠ 

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢2024çº§æ•°æ®ç§‘å­¦ä¸å¤§æ•°æ®æŠ€æœ¯2ç­å…¨ä½“åŒå­¦æä¾›çœŸå®æ•°æ®
- ä½¿ç”¨äº† Ant Design ç»„ä»¶åº“
- åŸºäº FastAPI å’Œ React æŠ€æœ¯æ ˆ
- æ„Ÿè°¢å¹¿ä¸œå·¥ä¸šå¤§å­¦è‡ªåŠ¨åŒ–å­¦é™¢çš„æ”¯æŒ